<article id="content-wrapper" class="content-wrapper recipe-wrapper" view-switch>
	<section id="content-main" class="content-main recipe-content clearfix" ng-cloak>

		<div ng-if="recipe.recipe && recipe.recipe !== 'error'">
			<h1 class="content-heading">
				{{::recipe.recipe.name}}
				<small ng-if="recipe.user && recipe.user._id === recipe.recipe.userId"> <a ng-href="/recipe/{{::recipe.recipe.slug}}/edit"><i class="fa fa-pencil-square-o"></i></a></small>
			</h1>

			<p>
				By: <img class="user-picture" ng-src="{{::recipe.author.picture}}"/><a class="user-displayName" ng-href="/recipes/author/{{::recipe.author.id}}">{{::recipe.author.displayName}}</a>
			</p>

			<p ng-if="recipe.user && recipe.recipe && recipe.author && recipe.author.id !== recipe.user._id">
				<a ng-click="recipe.fileRecipe(recipe.recipe._id)">{{recipe.user.savedRecipes.indexOf(recipe.recipe._id) !== -1 ? 'Unfile' : 'File'}} this recipe</a>
			</p>

			<p class="lead" ng-bind-html="recipe.recipe.description"></p>

			<section class="recipe-ingredients">
				<h2>Ingredients</h2>

				<ul>
					<li ng-repeat="ing in recipe.recipe.ingredients">
						{{::ing.amt}} {{::ing.ingredient}}
					</li>
				</ul>
			</section>

			<section class="recipe-directions">
				<h2>Directions</h2>

				<ol>
					<li ng-repeat="step in recipe.recipe.directions">
						{{::step.step}}
					</li>
				</ol>
			</section>
		</div>

		<div ng-if="recipe.recipe === 'error'" class="alert alert-danger">
			<i class="fa fa-warning"></i> {{recipe.errorMsg}}
		</div>

	</section>
</article>